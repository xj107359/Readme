android单位pt、px、ppi(dpi)、dp(dip)、sp详解

## 一、简介
Android的碎片化的问题非常严重。因为Android厂商非常多，设备非常多，产生了各种各样的分辨率。
为了解决碎片化的问题，Android开发文档中定义了dp，sp等新的单位

## 概念解释
- mm：millmeters，毫米，物理尺寸

- in：Inches，英寸，物理尺寸，屏幕物理尺寸大小，1英寸 = 2.54厘米。屏幕大小是手机对角线的物理尺寸，以英寸（inch）为单位。比如某某手机为“5寸大屏手机”，就是指对角线的尺寸，5寸×2.54厘米/寸=12.7厘米。

- pt：points，点，物理尺寸，相当于 1/72 英寸，用于印刷业

- px：pixel，一个像素点，如手机分辨率320×480表示宽有320像素，高有480像素。 **px单位不被建议使用。**由于分辨率不同，同样像素大小的图片在不同手机显示的实际大小可能不同。要用到px的情况是需要画1像素表格线或阴影线的时候，如果用其他单位画则会显得模糊。

- ppi：pixels per inch，图像分辨率 （在图像中，每英寸所包含的像素数目）。

- dpi：dots per inch，打印分辨率 （每英寸所能打印的点数，即打印精度），实际移动应用中，dpi和ppi一样的。所谓的屏幕密度指的就是这个。


	dpi = ppi = √（长度像素数² + 宽度像素数²） / 屏幕对角线英寸数 = 对角线像素数/屏幕对角线英寸数

> 以小米 mix2 为例，分辨率是 1080 x 2160，屏幕尺寸是 5.99 英寸，那么按照上述算法就是 1080 平方加上 2160 平方再开平方等于 2414.95，然后 2414.95 / 5.99 = 403 dpi

- dp=dip（Device-independent pixel），与密度无关的像素单位，基于屏幕物理分辨率一个抽象的单位，用于说明与密度无关的尺寸和位置。

> - ldpi：低密度屏幕；约为 120dpi。
> - mdpi：中等密度（传统 HVGA）屏幕；约为 160dpi。
> - hdpi：高密度屏幕；约为 240dpi。
> - xhdpi：超高密度屏幕；约为 320dpi。此项为 API 级别 8 中新增配置
> - xxhdpi：超超高密度屏幕；约为 480dpi。此项为 API 级别 16 中新增配置
> - xxxhdpi：超超超高密度屏幕使用（**仅限启动器图标，请参阅“支持多种屏幕”中的注释**）；约为 640dpi。 此项为 API 级别 18 中新增配置
> - nodpi：它可用于您不希望缩放以匹配设备密度的位图资源。
> - tvdpi：密度介于 mdpi 和 hdpi 之间的屏幕；约为 213dpi。它并不是“主要”密度组， 主要用于电视，而大多数应用都不需要它。对于大多数应用而言，提供 mdpi 和 hdpi 资源便已足够，系统将根据需要对其进行缩放。此项为 API 级别 13 中新增配置
> - anydpi：此限定符适合所有屏幕密度，其优先级高于其他限定符。 这对于矢量可绘制对象很有用。 此项为 API 级别 21 中新增配置
> - 六个主要密度之间的缩放比为 3、4、6、8、12、16（忽略 tvdpi 密度）。因此，9x9 (ldpi) 位图相当于 12x12 (mdpi)、18x18 (hdpi)、24x24 (xhdpi) 位图，依此类推。
> - 如果您认为图像资源在电视或其他某些设备上呈现的效果不够好，而想尝试使用 tvdpi 资源，则缩放比例为 1.33×mdpi。例如，mdpi 屏幕的 100px x 100px 图像应该相当于 tvdpi 的133px x 133px。

系统定义dpi图解

| 密度	| 代表分辨率	| dpi	| 比例	| mdpi基准比例	|
| ----- | --------- | ----- | ----- | ------------- |
| ldpi	| 240x320	| 120	| 3		| 0.75			|
| mdpi	| 320x480	| 160	| 4		| 1				|
| hdpi	| 480x800	| 240	| 6		| 1.5			|
| xhdpi	| 720x1280	| 320	| 8		| 2				|
| xxhdpi| 1080x1920	| 480	| 12	| 3				|
|xxxhdpi| 1440x2560	| 640	| 16	| 4				|

Android系统dpi关系表格，以mdpi（160）为基准

> 其中 mdpi 表示对应的dp到px的系数，这个系数乘以dp长度就是像素数。例如界面上有一个长度为“80dp”的图片，那么它在240dpi的手机上实际显示为80x1.5=120px，在320dpi的手机上实际显示为80x2=160px。如果你拿这两部手机放在一起对比，会发现这个图片的物理尺寸“差不多”，这就是使用dp作为单位的效果。

	px = dp × ppi/160
	dp = px × 160/ppi

从公式可以看出，公式的由来是以160dpi的屏幕为基准，此时该屏幕1dp=1px。如果320dpi的屏幕上，公式推导可得1dp=2px。

dp更类似一个物理尺寸，比如一张宽和高均为100dp的图片在320×480和480×800的手机上“看起来”一样大。而实际上，它们的像素值并不一样。dp正是这样一个尺寸，不管这个屏幕的密度是多少，屏幕上相同dp大小的元素看起来始终差不多大。

- sp：Scale-independent Pixels，与缩放无关的像素单位。类似 dp ，不同之处在于它还会根据用户字体大小配置而缩放。**开发中指定字体大小时建议使用sp**，因为它会根据屏幕密度和用户字体配置而适配。当安卓系统字号设为“普通”时，sp=dp.

## 总结

建议始终使用sp作为文字大小的单位，将dp(dip)作为其他元素的单位。

## 相关表格

| 屏幕密度级别	| 屏幕密度	| 物理尺寸		| 像素大小						|
| ------------- | --------- | ------------- | ----------------------------- |
| lpdi			| 120 dpi	| 0.5 x 0.5 in	| 0.5 in × 120 dpi = 60x60 px	|
| mdpi			| 160 dpi	| 0.5 x 0.5 in	| 0.5 in × 160 dpi = 80x80 px	|
| hdpi			| 240 dpi	| 0.5 x 0.5 in	| 0.5 in × 240 dpi = 120x120 px	|
| xhdpi			| 320 dpi	| 0.5 x 0.5 in	| 0.5 in × 320 dpi = 160x160 px	|
| xxhdpi		| 480 dpi	| 0.5 x 0.5 in	| 0.5 in × 480 dpi = 240x240 px	|
| xxxhdpi		| 640 dpi	| 0.5 x 0.5 in	| 0.5 in × 640 dpi = 320x320 px	|

| 单位	| 描述			| 每英寸中含多少	| 密度无关	| 在每个屏幕上是否是同样大小	|
| ----- | ------------- | ------------- | --------- | ------------------------- |
| px	| 像素			| 很多			| 否			| 否							|
| in	| 英寸			| 1				| 是			| 是							|
| mm	| 毫米			| 25.4			| 是			| 是							|
| pt	| 点				| 72			| 是			| 是							|
| dp	| 密度无关像素	| ~160			| 是			| 是							|
| sp	| 缩放无关像素	| ~160			| 是			| 是							|

